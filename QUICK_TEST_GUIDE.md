# 🧪 拖拽功能 - 快速测试指南

## 📋 测试目标

验证 236日志解压模块的拖拽功能是否已修复

## 🚀 测试步骤

### Tauri 桌面应用环境

#### 步骤1：打开应用
1. 启动梧桐工具箱
2. 进入 "236日志解压" 模块

#### 步骤2：拖拽文件
1. 准备一个 `.gz` 日志文件
2. 将文件**拖拽**到选择区域（虚线框区域）
3. 观察反应

**预期结果** ✅:
- [ ] 拖拽时区域边框变蓝色
- [ ] 松开后显示蓝色提示框
- [ ] 提示框显示："📄 已检测到拖拽文件: [文件名]"
- [ ] 提示框显示："⏳ 请点击上方区域或'开始解压'按钮选择文件"

#### 步骤3：开始解压
1. 点击**"开始解压"**按钮
2. 观察反应

**预期结果** ✅:
- [ ] 显示："⏳ 正在打开文件选择对话框..."
- [ ] 文件对话框自动打开
- [ ] 在对话框中选择相同的文件

#### 步骤4：确认选择
1. 在文件对话框中点击"确定"
2. 观察反应

**预期结果** ✅:
- [ ] 提示框消失
- [ ] 显示"✅ 已选择文件: [文件名]"
- [ ] "开始解压"按钮变为可点击状态

#### 步骤5：完成解压
1. 点击"开始解压"按钮
2. 等待解压完成
3. 观察反应

**预期结果** ✅:
- [ ] 显示进度条
- [ ] 日志显示："找到解密工具"
- [ ] 日志显示："解密完成"
- [ ] 日志显示："解压完成"
- [ ] 日志显示："已自动打开解压目录"
- [ ] 文件管理器自动打开到解压目录

---

## 🎯 关键测试点

### ✅ 必须通过的测试

1. **拖拽响应**
   - 拖拽文件到区域有视觉反馈（蓝色边框）
   - 松开后显示提示框

2. **提示信息**
   - 提示框显示正确的文件名
   - 提示用户下一步操作

3. **文件选择**
   - 点击"开始解压"自动打开文件对话框
   - 选择文件后正确设置

4. **完整流程**
   - 从拖拽到解压完成无中断
   - 能正常打开解压目录

### ❌ 常见问题

**问题**: 拖拽后没有任何提示
**解决**: 检查是否在 Tauri 环境下，Web 环境下不会显示提示框

**问题**: 点击"开始解压"没反应
**解决**: 必须先拖拽文件，系统才会提示点击按钮

**问题**: 选择文件后提示框不消失
**解决**: 刷新页面重试，或检查控制台日志

---

## 📊 测试结果记录

请在测试过程中记录：

| 测试项 | 通过 ✅ | 失败 ❌ | 备注 |
|--------|---------|---------|------|
| 拖拽响应 |  |  |  |
| 显示提示框 |  |  |  |
| 文件名正确 |  |  |  |
| 点击按钮打开对话框 |  |  |  |
| 选择文件成功 |  |  |  |
| 解压成功 |  |  |  |
| 自动打开目录 |  |  |  |

---

## 🔍 调试信息

如果测试失败，请查看：

### 控制台日志
按 `F12` 打开开发者工具，查看 Console 标签页：
```
[236解压] 拖拽文件: xxx.gz
[236解压] Tauri环境检测到拖拽: xxx.gz
[236解压] 正在打开文件选择对话框...
[236解压] Tauri环境已选择文件: xxx.gz
```

### 错误信息
如果有红色错误信息，请记录错误内容

---

## 📞 需要帮助？

如果测试失败：
1. 记录失败的步骤
2. 截图或记录错误信息
3. 查看 `.claude/drag-drop-ux-guide.md` 获取详细说明
4. 联系技术支持

---

**测试指南版本**: v1.0
**适用版本**: v1.0.0+
**最后更新**: 2025-11-12 12:20
